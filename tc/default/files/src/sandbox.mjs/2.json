{
 "file_path": "src\\sandbox.mjs",
 "part_id": "c8519360-f724-4bad-b105-264395a59fea",
 "hunks": [
  "0+import { list_single } from './list/single.mjs';\nimport { data_key_value_get } from './data/key/value/get.mjs';\nimport { database_transaction } from './database/transaction.mjs';\nimport { list_each_with_index_async } from './list/each/with/index/async.mjs';\nimport { database_reference_data } from './database/reference/data.mjs';\nimport { database_reference_get } from './database/reference/get.mjs';\nimport { database_create } from './database/create.mjs';\nimport { database_reference_update_property } from './database/reference/update/property.mjs';\nimport { database_reference_set_if_not_exists } from './database/reference/set/if/not/exists.mjs';\nimport { function_name_separator } from './function/name/separator.mjs';\nimport { version_commits_path_to_integer } from './version/commits/path/to/integer.mjs';\nimport { directory_property_file_path } from './directory/property/file/path.mjs';\n",
  "1442-81",
  "3020+import { list_single_item } from './list/single/item.mjs';\nimport { database_firestore_get } from './database/firestore/get.mjs';\nimport { database_reference } from './database/reference.mjs';\nimport { list_last_index } from './list/last/index.mjs';\nimport { data_key_value_set } from './data/key/value/set.mjs';\nimport { comment } from './comment.mjs';\n",
  "2278-4",
  "3449+le",
  "2336-4",
  "3505+le",
  "2342-1",
  "3509+db = databas",
  "3522+_fi",
  "3526+e",
  "3528+tore_get();\n    let fns = funct",
  "3563+name_separator();\n    let database_",
  "3600+llection_na",
  "2353-1",
  "3612+e = `repos",
  "2356-2",
  "3624+ory${ f",
  "2359-9",
  "2369-1",
  "3633+ }${ ",
  "3653+ }`;\n    let property_commit = 'commit';\n    let property_commit_latest = `${ property_commit }${ fns }latest`;\n    let document_path_info = `info`;\n    let info_refererence = database_reference(db, database_collection_name, document_path_info",
  "3903+console.log('he",
  "2394-4",
  "3920+')",
  "3924+    await database_transaction(db, async transaction => {\n        await database_reference_set_if_not_exists(transaction, info_refererence, { [property_commit_latest]: 0 });\n    });\n    console.log('here2');\n    await database_transaction(db, async transaction => {\n        console.log('here4');\n        const property_commit_latest_data = `${ database_collection_name }${ fns }${ property_commit_latest }`;\n        let property_commit_latest_data_value = await data_key_value_get(property_commit_latest_data);\n        const info = await database_reference_get(transaction, info_refererence);\n        let info_data = database_reference_data(info);\n        let property_commit_latest_value = object_property_get(info_data, property_commit_latest);\n        comment('if this fails then local code is out of sync with server');\n        console.log({\n            property_commit_latest_data_value,\n            property_commit_latest_value\n        });\n        assert(equal(property_commit_latest_data_value, property_commit_latest_value));\n    ",
  "5039+    ",
  "5105+    ",
  "5190+    ",
  "2626-4",
  "5200+mmi",
  "2691-1",
  "5264+    c",
  "5270+nsole.log('he",
  "5284+e5');\n        let last_index = list_last_index(commits);\n        await list_each_with_index_async(commits, async",
  "5398+commit, index) => {\n            ",
  "5440+_path =",
  "5449+bject_property_get(commit, directory_property_",
  "5496+ile_path());\n            let",
  "5527+mmit_id = list_single(version_commits_path_to_i",
  "5577+ger(list_si",
  "5589+gle_i",
  "5595+em(commit_path)));\n            if (commit_id <= property_commit_late",
  "5664+t_value",
  "5675+                return;\n            }\n    ",
  "5799+    ",
  "5898+    ",
  "2918-2",
  "5921+list_single_item(commit_json)",
  "5952+    ",
  "5990+    ",
  "6076+    ",
  "6178+    ",
  "6226+    ",
  "6293+    ",
  "6299+    ",
  "6317+        let document_path_commit = `${ property_commit ",
  "6373+${ fns }${ commit_id }`;\n            database_create(db, transaction, database_collection_name, document_path_commit, { value: commit_files });\n            console.log({\n                index,\n                last_index\n            });\n            if (equal(index, last_index)) {\n                database_reference_update_property(transaction, info_refererence, property_commit_latest, commit_id);\n                await data_key_value_set(property_commit_latest_data, commit_id);\n            }\n        });\n    });\n    console.log('here3');"
 ]
}